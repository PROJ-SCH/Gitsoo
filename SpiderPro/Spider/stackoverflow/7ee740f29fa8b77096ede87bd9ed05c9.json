{"URL":"http://stackoverflow.com/questions/37280442/jscp-session-connect-throws-end-of-io-stream-read","author":"","encoding":"utf-8","label":"[\"java\",\"scp\",\"jsch\"]","pageWeigh:":"1","parentPageCount":"0","text":" I downloaded a new jsch jar library and Jsch sftp download task no longer works This release fails on session connect function throwing an error Session connect java io IOException End of IO Stream Read My old jsch jar 2011 10 06 works fine to the same host maybe I am missing a new config props Session session null ChannelSftp channel null try JSch setLogger SSHUtil createJschLogger JSch jsch new JSch session jsch getSession myuser 11 22 33 44 22 session setConfig StrictHostKeyChecking no session setPassword mypwd session connect 2000 FAILS HERE channel ChannelSftp session openChannel sftp channel connect 2000 This is an extensive JSCH logging indicating whats going on INFO Connecting to 11 22 33 44 port 22 INFO Connection established INFO Remote version string SSH 2 0 OpenSSH 6 6 1 INFO Local version string SSH 2 0 JSCH 0 1 53 INFO CheckCiphers aes256 ctr aes192 ctr aes128 ctr aes256 cbc aes192 cbc aes128 cbc 3des ctr arcfour arcfour128 arcfour256 INFO aes256 ctr is not available INFO aes192 ctr is not available INFO aes256 cbc is not available INFO aes192 cbc is not available INFO CheckKexes diffie hellman group14 sha1 ecdh sha2 nistp256 ecdh sha2 nistp384 ecdh sha2 nistp521 INFO diffie hellman group14 sha1 is not available INFO ecdh sha2 nistp256 is not available INFO ecdh sha2 nistp384 is not available INFO ecdh sha2 nistp521 is not available INFO CheckSignatures ecdsa sha2 nistp256 ecdsa sha2 nistp384 ecdsa sha2 nistp521 INFO ecdsa sha2 nistp256 is not available INFO ecdsa sha2 nistp384 is not available INFO ecdsa sha2 nistp521 is not available INFO SSH MSG KEXINIT sent INFO SSH MSG KEXINIT received INFO kex server curve25519 sha256 libssh org ecdh sha2 nistp256 ecdh sha2 nistp384 ecdh sha2 nistp521 diffie hellman group exchange sha256 diffie hellman group exchange sha1 diffie hellman group14 sha1 diffie hellman group1 sha1 INFO kex server ssh rsa ssh dss ecdsa sha2 nistp256 ssh ed25519 INFO kex server aes128 ctr aes192 ctr aes256 ctr arcfour256 arcfour128 aes128 gcm openssh com aes256 gcm openssh com chacha20 poly1305 openssh com aes128 cbc 3des cbc blowfish cbc cast128 cbc aes192 cbc aes256 cbc arcfour rijndael cbc lysator liu se INFO kex server aes128 ctr aes192 ctr aes256 ctr arcfour256 arcfour128 aes128 gcm openssh com aes256 gcm openssh com chacha20 poly1305 openssh com aes128 cbc 3des cbc blowfish cbc cast128 cbc aes192 cbc aes256 cbc arcfour rijndael cbc lysator liu se INFO kex server hmac md5 etm openssh com hmac sha1 etm openssh com umac 64 etm openssh com umac 128 etm openssh com hmac sha2 256 etm openssh com hmac sha2 512 etm openssh com hmac ripemd160 etm openssh com hmac sha1 96 etm openssh com hmac md5 96 etm openssh com hmac md5 hmac sha1 umac 64 openssh com umac 128 openssh com hmac sha2 256 hmac sha2 512 hmac ripemd160 hmac ripemd160 openssh com hmac sha1 96 hmac md5 96 INFO kex server hmac md5 etm openssh com hmac sha1 etm openssh com umac 64 etm openssh com umac 128 etm openssh com hmac sha2 256 etm openssh com hmac sha2 512 etm openssh com hmac ripemd160 etm openssh com hmac sha1 96 etm openssh com hmac md5 96 etm openssh com hmac md5 hmac sha1 umac 64 openssh com umac 128 openssh com hmac sha2 256 hmac sha2 512 hmac ripemd160 hmac ripemd160 openssh com hmac sha1 96 hmac md5 96 INFO kex server none zlib openssh com INFO kex server none zlib openssh com INFO kex server INFO kex server INFO kex client diffie hellman group exchange sha256 diffie hellman group exchange sha1 diffie hellman group1 sha1 INFO kex client ssh rsa ssh dss INFO kex client aes128 ctr aes128 cbc 3des ctr 3des cbc blowfish cbc INFO kex client aes128 ctr aes128 cbc 3des ctr 3des cbc blowfish cbc INFO kex client hmac md5 hmac sha1 hmac sha2 256 hmac sha1 96 hmac md5 96 INFO kex client hmac md5 hmac sha1 hmac sha2 256 hmac sha1 96 hmac md5 96 INFO kex client none INFO kex client none INFO kex client INFO kex client INFO kex server client aes128 ctr hmac md5 none INFO kex client server aes128 ctr hmac md5 none INFO SSH MSG KEX DH GEX REQUEST 1024 1024 1024 sent INFO expecting SSH MSG KEX DH GEX GROUP INFO Disconnecting from 11 22 33 44 port 22 Exception in thread main com jcraft jsch JSchException Session connect java io IOException End of IO Stream Read at com jcraft jsch Session connect Session java 558 at com jcraft jsch Session connect Session java 183 at my test DownloadSFTP main DownloadSFTP java 37 Caused by java io IOException End of IO Stream Read at com jcraft jsch IO getByte IO java 84 at com jcraft jsch Session read Session java 918 at com jcraft jsch Session connect Session java 323 I have also a very old Jsch jar 2011 10 06 where download task works fine this is a log A Reason I wanted to upgrade is this very slow transferring files New release should do things better I have read INFO Connecting to 11 22 33 44 port 22 INFO Connection established INFO Remote version string SSH 2 0 OpenSSH 6 6 1 INFO Local version string SSH 2 0 JSCH 0 1 44 INFO CheckCiphers aes256 ctr aes192 ctr aes128 ctr aes256 cbc aes192 cbc aes128 cbc 3des ctr arcfour arcfour128 arcfour256 INFO aes256 ctr is not available INFO aes192 ctr is not available INFO aes256 cbc is not available INFO aes192 cbc is not available INFO arcfour256 is not available INFO SSH MSG KEXINIT sent INFO SSH MSG KEXINIT received INFO kex server client aes128 ctr hmac md5 none INFO kex client server aes128 ctr hmac md5 none INFO SSH MSG KEXDH INIT sent INFO expecting SSH MSG KEXDH REPLY INFO ssh rsa verify signature true WARN Permanently added 11 22 33 44 RSA to the list of known hosts INFO SSH MSG NEWKEYS sent INFO SSH MSG NEWKEYS received INFO SSH MSG SERVICE REQUEST sent INFO SSH MSG SERVICE ACCEPT received INFO Authentications that can continue publickey keyboard interactive password INFO Next authentication method publickey INFO Authentications that can continue keyboard interactive password INFO Next authentication method keyboard interactive INFO Authentication succeeded keyboard interactive INFO Disconnecting from 11 22 33 44 port 22 INFO Caught an exception leaving main loop due to socket closed EDIT I had an idea to backstep releases in a Maven repository and actually it is this very new release not working properly Previous jsch 0 1 52 jar release works fine I try to contact library developers active oldest votes Know someone who can answer Share a link to this question via email Google Twitter or Facebook Your Answer draft saved draft discarded Sign up or log in Sign up using Google Sign up using Facebook Sign up using Email and Password Post as a guest Name Email Post as a guest Name Email discard By posting your answer you agree to the privacy policy and terms of service Browse other questions tagged java scp jsch or ask your own question","timestamp":"201605172345","title":"JScp session.connect() throws End of IO Stream Read"}