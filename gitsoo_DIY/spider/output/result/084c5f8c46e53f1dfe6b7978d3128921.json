{"URL":"http://stackoverflow.com/questions/37774857/sailsjs-through-association-cannot-read-property-via-of-undefined","author":"","encoding":"utf-8","label":"[\"postgresql\",\"sails.js\",\"waterline\"]","pageWeigh":"1","parentPageCount":"0","text":" I m using Sails 0 12 3 and postgresql 9 3 4 on Mac OSX 10 10 5 and I m attempting to implement a through association I ve set up two models with a third as the join table When I attempt to test that it is all set up by creating a relationship I get this error Uncaught TypeError Cannot read property via of undefined Here s my test mocha chai describe OrgMembership function describe create function it should create OrgMembership function done var org user var orgName MyOrg var email jo foo com Org create name orgName then function newOrg org newOrg return User create username email then function newUser user newUser return OrgMembership create user user org org then function om assert isNotNull om assert equal om org org id assert equal om user user id done catch done Here are my models User js module exports attributes username type email orgs collection org via user through orgmembership Org js module exports attributes name string users collection user via org through orgmembership OrgMembership js module exports tableName org membership attributes user model User columnName user id foreignKey true org model Org columnName org id foreignKey true I found this other stackoverflow question which seems to be doing the same thing and attempted to follow the same pattern but it s not working for me I would appreciate any pointers or suggestions Thank you active oldest votes Know someone who can answer Share a link to this question via email Google Twitter or Facebook Your Answer draft saved draft discarded Sign up or log in Sign up using Google Sign up using Facebook Sign up using Email and Password Post as a guest Name Email Post as a guest Name Email discard By posting your answer you agree to the privacy policy and terms of service Browse other questions tagged postgresql sails js waterline or ask your own question","timestamp":"201606122136","title":" SailsJS through association Cannot read property via of undefined"}